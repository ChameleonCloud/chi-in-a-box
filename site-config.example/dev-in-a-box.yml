---
# this configuration is meant to set up a CI/CD enviroment: "dev-in-a-box"
# It assumes that the named network interfaces and IP addresses have been
# created and assigned to veth interfaces, namely "ext_api_veth", "int_api_veth" and "neutron_veth"
# no traffic will be sent outside of the VM.


kolla_base_distro: ubuntu

network_interface: int_api_veth
kolla_external_vip_interface: "ext_api_veth"
# api_interface: "{{ network_interface }}"

kolla_internal_vip_address: "10.10.10.254"
#kolla_internal_fqdn: "{{ kolla_internal_vip_address }}"
kolla_external_vip_address: "192.168.100.254"
#kolla_external_fqdn: "{{ kolla_external_vip_address }}"


# Note! This configuration does NOT invoke networking-generic-switch.
# It assumes only "flat" networks are available, with a separate physnet
# per neutron network. This is due to the networking limitation for "tenks"
# virtual baremetal nodes. A regular chi-in-a-box site would be configured
# with vlan networks, allowing users to create per-tenant isolated networks.

neutron_networks:
- name: physnet1
  bridge_name: br_physnet1
  external_interface: physnet1_veth
  public:
    segment_type: flat
    cidr: 192.168.100.0/24
    gateway: 192.168.100.1
    ip_range_start: 192.168.100.20
    ip_range_end: 192.168.100.200
- name: physnet2
  bridge_name: br_physnet2
  external_interface: physnet2_veth
  sharednet:
    segment_type: flat
    cidr: 10.200.10.0/22
- name: physnet3
  bridge_name: br_physnet3
  external_interface: physnet3_veth
  provisioning:
    segment_type: flat
    cidr: 10.205.10.0/24


# disable to speed up deployment
enable_central_logging: false
enable_prometheus: false

# enable image subscription. Make sure you have enough disk space before turning it on!
# enable_image_deployer: true

# fake baremetal node config
fake_baremetal_node_ram_mb: 4096
fake_baremetal_node_disk_gb: 10
fake_baremetal_node_vcpu: 2
fake_baremetal_node_count: 1
